<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ToneDAW.js - jmon-tone Native</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>
    <script src="https://unpkg.com/@tonejs/midi@2.0.28/build/Midi.js"></script>
    <script src="https://raw.githubusercontent.com/essicolo/jmon/main/jmon-tone.js"></script>
    <script src="./ToneDAW.js"></script>
</head>
<body>
    <div id="daw"></div>
    
    <script>
        // ToneDAW.js with jmon-tone Native Format
        async function init() {
            console.log('🎹 ToneDAW.js: Initializing with jmon-tone native format...');
            
            // Load jmon-tone project data
            console.log('📁 Loading jmon-tone project...');
            const response = await fetch('./porcelain.json');
            const jmonToneData = await response.json();
            console.log('✅ jmon-tone project loaded:', jmonToneData);
            
            // ToneDAW uses jmon-tone as native format
            console.log('🎵 ToneDAW: Processing native jmon-tone project...');
            const daw = new ToneDAW('daw', jmonToneData);
            
            console.log('🎯 ToneDAW.js initialized successfully!');
            console.log('   - jmon-tone native format ✅');
            console.log('   - User interface created ✅');
        }

        window.addEventListener('load', init);
    </script>
</body>
</html>
